


<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Login - UlkaTV Network</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      body {
        font-family: Arial, sans-serif;
        background: #f3ecec;
        color: white;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
      }

      form {
        background: #1a1a1a;
        padding: 2.5rem;
        width: 90%;
        max-width: 400px;
        border-radius: 15px;
        box-shadow: 0 0 25px #333;
      }

      input {
        display: block;
        margin: 1rem 0;
        padding: 0 1rem;
        height: 48px;
        font-size: 1rem;
        width: 100%;
        border-radius: 8px;
        border: none;
        box-sizing: border-box;
      }

      button {
        height: 50px;
        font-size: 1rem;
        background-color: #ee4f57;
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        width: 100%;
        margin-top: 1rem;
        transition: background-color 0.2s ease;
      }

      button:hover {
        background-color: #d93d47;
      }

      h1 {
        font-size: 1.8rem;
        margin-bottom: 1.5rem;
        text-align: center;
      }

      #error {
        color: #ff6666;
        margin-top: 1rem;
        font-size: 0.95rem;
      }

      #success {
        color: #66ff66;
        margin-top: 1rem;
        font-size: 0.95rem;
      }

      @media (max-width: 480px) {
        form {
          padding: 2rem;
        }
        input,
        button {
          font-size: 1rem;
          height: 44px;
        }
      }
    </style>
  </head>
  <body>
	<div id="logo">
		<img src="../ew.png" alt="ULKA TV Logo" style="height: 90px;"/>
    <!-- <img src="ew.png" alt="ULKA TV Logo" style="height: 90px;" /> -->
	</div>

    <form id="loginForm">
      <input type="text" id="username" placeholder="Username" required />
      <input type="password" id="password" placeholder="Password" required />
      <button type="submit">Login</button>
      <div id="error"></div>
      <div id="success"></div>
    </form>

    <script>
      const form = document.getElementById("loginForm");
      const errorDiv = document.getElementById("error");
      const successDiv = document.getElementById("success");

      form.addEventListener("submit", async function (e) {
        e.preventDefault();
        errorDiv.textContent = "";
        successDiv.textContent = "";

        const username = document.getElementById("username").value.trim();
        const password = document.getElementById("password").value.trim();

        try {
          const response = await fetch(
            "http://202.62.66.122/api/railtel.php/v1/user/login?vr=railtel1.1",
            {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify({
                LoginForm: {
                  username,
                  password,
                },
              }),
            }
          );

          const data = await response.json();

          if (data.success) {
            successDiv.textContent = "Login successful! Redirecting...";
            localStorage.setItem("access_token", data.data.access_token);
            localStorage.setItem("auth_token", data.data.auth_token);
            localStorage.setItem("username", data.data.username);
            localStorage.setItem("loggedIn", "true");

            setTimeout(() => {
              window.location.href = "dashbord.html";
            }, 1000);
          } else {
            errorDiv.textContent = data.message || "Invalid credentials.";
          }
        } catch (err) {
          console.error(err);
          errorDiv.textContent = "Login failed. Please try again later.";
        }
      });
    </script>
  </body>
</html>
